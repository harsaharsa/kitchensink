<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <title>Preload Example</title>

  <link rel="stylesheet" href="/vendor/topcoat/css/topcoat-mobile-light.css" />
  <link rel="stylesheet" href="/stylesheets/application.css" />

  <script src="/javascripts/onerror.js"></script>

  <!-- cordova.js is served from localhost to ensure the correct version -->
  <script src="http://localhost/appgyver/cordova.js"></script>
  <script src="/components/steroids-js/steroids.js"></script>

  <!-- controllers can be loaded dynamically based on the resource name -->
  <script src="/controllers/preloadExample.js"></script>  

</head>
<body>

  <script>

  var uptime = 0;

  window.setInterval(function() {

    // Updates the uptime counter

    uptime++;

    var uptimeElem = document.querySelector("#uptime");
    uptimeElem.textContent = uptime;

    // Sends message for the main view that listens with addEventListener("message")

    var msg = { uptime: uptime };
    window.postMessage(msg, "*");

  }, 1000);

</script>

<div class="content-padded">
  <h1>Preloaded WebView</h1>

  <p>Uptime: <span id="uptime">0</span> seconds</p>

  <p>The value of this input stays even if you pop this layer with the back button!</p>

  <input type="text" value="testing">

</ul>

</body>
</html>
